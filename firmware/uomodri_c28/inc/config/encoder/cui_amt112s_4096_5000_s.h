/*
 * File name: cui_amt112s_4096_5000_s.h
 * Description: Header file containing definitions of AMT112S-4096-5000-S encoder from CUI Devices.
 */

#ifndef __CUI_AMT112S_4096_5000_S_DEFINES_H__
#define __CUI_AMT112S_4096_5000_S_DEFINES_H__

/************************************************************************
 * INCLUDES
 ************************************************************************/
#include "../../uomodri_user_defines.h"

/***********************************************************************
 * ENCODERS DEFINES
 ***********************************************************************/
#define CUI_AMT112S_4096_5000_S_ENC_RESOLUTION                  (4096.0f)
#define CUI_AMT112S_4096_5000_S_ENC_QUADRATURE_SCALE            (4.0f * CUI_AMT112S_4096_5000_S_ENC_RESOLUTION)
#define CUI_AMT112S_4096_5000_S_ENC_QUADRATURE_SCALE_MAX        (CUI_AMT112S_4096_5000_S_ENC_QUADRATURE_SCALE - 1)
#define CUI_AMT112S_4096_5000_S_ENC_RESOLUTION_SCALE            (1.0f / CUI_AMT112S_4096_5000_S_ENC_QUADRATURE_SCALE)
#define CUI_AMT112S_4096_5000_S_ENC_RESOLUTION_RAD              (FM_ROUND2RAD * CUI_AMT112S_4096_5000_S_ENC_RESOLUTION_SCALE)
#define CUI_AMT112S_4096_5000_S_ENC_CONFIG                      (EQEP_CONFIG_2X_RESOLUTION | EQEP_CONFIG_QUADRATURE | EQEP_CONFIG_IGATE_DISABLE)
#define CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SAMPLE_FREQ      (1000U) // [Hz] Velocity computation frequency
#define CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SAMPLE_TICKS     (DEVICE_SYSCLK_FREQ / CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SAMPLE_FREQ)
#define CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SAMPLE_TICKS_MAX (CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SAMPLE_TICKS - 1)
#define CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SCALE            (CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SAMPLE_FREQ) // 2pi / dt
#define CUI_AMT112S_4096_5000_S_ENC_SPEED_LOW_SCALE             (FM_2MULTPI * DEVICE_SYSCLK_FREQ * (1 << QEP_UNIT_POS_EVENT_DIV) / \
                                                                 (1 << (QEP_CAPTURE_CLOCK_DIV >> 4)) / CUI_AMT112S_4096_5000_S_ENC_RESOLUTION_SCALE)
#define CUI_AMT112S_4096_5000_S_ENC_SPEED_CUTOFF_FREQ           (100.0f) // cutoff frequency for velocity estimation
#define CUI_AMT112S_4096_5000_S_ENC_SPEED_TIME_CONST            (FM_2MULTPI * CUI_AMT112S_4096_5000_S_ENC_SPEED_CUTOFF_FREQ * PWM_PERIOD)
#define CUI_AMT112S_4096_5000_S_ENC_SPEED_LPF_ALPHA             (CUI_AMT112S_4096_5000_S_ENC_SPEED_TIME_CONST / (1.0f + CUI_AMT112S_4096_5000_S_ENC_SPEED_TIME_CONST))
#define CUI_AMT112S_4096_5000_S_ENC_SPEED_LPF_ONE_M_ALPHA       (1.0f - CUI_AMT112S_4096_5000_S_ENC_SPEED_LPF_ALPHA)
#define CUI_AMT112S_4096_5000_S_ENC_SPEED_LOCAL_LPF_ALPHA       (CUI_AMT112S_4096_5000_S_ENC_SPEED_TIME_CONST / (1.0f + CUI_AMT112S_4096_5000_S_ENC_SPEED_TIME_CONST))
#define CUI_AMT112S_4096_5000_S_ENC_SPEED_LOCAL_LPF_ONE_M_ALPHA (1.0f - CUI_AMT112S_4096_5000_S_ENC_SPEED_LPF_ALPHA)

/*** Encoder 1 constants ***/
#if (ENCODER1_PARAMS == USE_CUI_AMT112S_4096_5000_S)
#define MOTOR1_ENC_RESOLUTION                                   CUI_AMT112S_4096_5000_S_ENC_RESOLUTION
#define MOTOR1_ENC_QUADRATURE_SCALE                             CUI_AMT112S_4096_5000_S_ENC_QUADRATURE_SCALE
#define MOTOR1_ENC_QUADRATURE_SCALE_MAX                         CUI_AMT112S_4096_5000_S_ENC_QUADRATURE_SCALE_MAX
#define MOTOR1_ENC_RESOLUTION_SCALE                             CUI_AMT112S_4096_5000_S_ENC_RESOLUTION_SCALE
#define MOTOR1_ENC_RESOLUTION_RAD                               CUI_AMT112S_4096_5000_S_ENC_RESOLUTION_RAD
#define MOTOR1_ENC_CONFIG                                       CUI_AMT112S_4096_5000_S_ENC_CONFIG
#define MOTOR1_ENC_SPEED_HIGH_SAMPLE_FREQ                       CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SAMPLE_FREQ
#define MOTOR1_ENC_SPEED_HIGH_SAMPLE_TICKS                      CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SAMPLE_TICKS
#define MOTOR1_ENC_SPEED_HIGH_SAMPLE_TICKS_MAX                  CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SAMPLE_TICKS_MAX
#define MOTOR1_ENC_SPEED_HIGH_SCALE                             CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SCALE
#define MOTOR1_ENC_SPEED_LOW_SCALE                              CUI_AMT112S_4096_5000_S_ENC_SPEED_LOW_SCALE
#define MOTOR1_ENC_SPEED_CUTOFF_FREQ                            CUI_AMT112S_4096_5000_S_ENC_SPEED_CUTOFF_FREQ
#define MOTOR1_ENC_SPEED_TIME_CONST                             CUI_AMT112S_4096_5000_S_ENC_SPEED_TIME_CONST
#define MOTOR1_ENC_SPEED_LPF_ALPHA                              CUI_AMT112S_4096_5000_S_ENC_SPEED_LPF_ALPHA
#define MOTOR1_ENC_SPEED_LPF_ONE_M_ALPHA                        CUI_AMT112S_4096_5000_S_ENC_SPEED_LPF_ONE_M_ALPHA
#define MOTOR1_ENC_SPEED_LOCAL_LPF_ALPHA                        CUI_AMT112S_4096_5000_S_ENC_SPEED_LOCAL_LPF_ALPHA
#define MOTOR1_ENC_SPEED_LOCAL_LPF_ONE_M_ALPHA                  CUI_AMT112S_4096_5000_S_ENC_SPEED_LOCAL_LPF_ONE_M_ALPHA
#endif /* USE_CUI_AMT112S_4096_5000_S_ON_MOTOR1 */

/*** Encoder 2 constants ***/
#if (ENCODER2_PARAMS == USE_CUI_AMT112S_4096_5000_S)
#define MOTOR2_ENC_RESOLUTION                                   CUI_AMT112S_4096_5000_S_ENC_RESOLUTION
#define MOTOR2_ENC_QUADRATURE_SCALE                             CUI_AMT112S_4096_5000_S_ENC_QUADRATURE_SCALE
#define MOTOR2_ENC_QUADRATURE_SCALE_MAX                         CUI_AMT112S_4096_5000_S_ENC_QUADRATURE_SCALE_MAX
#define MOTOR2_ENC_RESOLUTION_SCALE                             CUI_AMT112S_4096_5000_S_ENC_RESOLUTION_SCALE
#define MOTOR2_ENC_RESOLUTION_RAD                               CUI_AMT112S_4096_5000_S_ENC_RESOLUTION_RAD
#define MOTOR2_ENC_CONFIG                                       CUI_AMT112S_4096_5000_S_ENC_CONFIG
#define MOTOR2_ENC_SPEED_HIGH_SAMPLE_FREQ                       CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SAMPLE_FREQ
#define MOTOR2_ENC_SPEED_HIGH_SAMPLE_TICKS                      CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SAMPLE_TICKS
#define MOTOR2_ENC_SPEED_HIGH_SAMPLE_TICKS_MAX                  CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SAMPLE_TICKS_MAX
#define MOTOR2_ENC_SPEED_HIGH_SCALE                             CUI_AMT112S_4096_5000_S_ENC_SPEED_HIGH_SCALE
#define MOTOR2_ENC_SPEED_LOW_SCALE                              CUI_AMT112S_4096_5000_S_ENC_SPEED_LOW_SCALE
#define MOTOR2_ENC_SPEED_CUTOFF_FREQ                            CUI_AMT112S_4096_5000_S_ENC_SPEED_CUTOFF_FREQ
#define MOTOR2_ENC_SPEED_TIME_CONST                             CUI_AMT112S_4096_5000_S_ENC_SPEED_TIME_CONST
#define MOTOR2_ENC_SPEED_LPF_ALPHA                              CUI_AMT112S_4096_5000_S_ENC_SPEED_LPF_ALPHA
#define MOTOR2_ENC_SPEED_LPF_ONE_M_ALPHA                        CUI_AMT112S_4096_5000_S_ENC_SPEED_LPF_ONE_M_ALPHA
#define MOTOR2_ENC_SPEED_LOCAL_LPF_ALPHA                        CUI_AMT112S_4096_5000_S_ENC_SPEED_LOCAL_LPF_ALPHA
#define MOTOR2_ENC_SPEED_LOCAL_LPF_ONE_M_ALPHA                  CUI_AMT112S_4096_5000_S_ENC_SPEED_LOCAL_LPF_ONE_M_ALPHA
#endif /* USE_CUI_AMT112S_4096_5000_S_ON_MOTOR2 */

#endif /* __CUI_AMT112S_4096_5000_S_DEFINES_H__ */
